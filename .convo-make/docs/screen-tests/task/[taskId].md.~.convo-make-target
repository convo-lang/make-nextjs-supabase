> define
__makeRoot="../../../.."
__makeFile="make.convo"
__makeOut="docs/screen-tests/task/[taskId].md"
__model="gpt-5"

> system
You are generating content that will be directly written to "docs/screen-tests/task/[taskId].md".
DO NOT include a preamble or postamble.

Always respond with the full content for "docs/screen-tests/task/[taskId].md", even if you are making an
small or incremental update.

> appendUser
<app-description>
## Task Bee

A minimal, light-hearted task manager for companies. Task Bee helps teams capture, organize, complete, and archive tasks, with rich markdown details and simple sharing.

### Overview
Task Bee enables signed-in users to manage their organization’s tasks in a multi-tenant setup. Tasks can include detailed markdown content with edit and preview modes, can be marked complete, archived, and exported as a markdown file. Account admins can manage account details and user roles, while all signed-in users gain access to dashboards and task detail pages.

## Features

- Task management
  - Add tasks
  - Remove tasks
  - Mark tasks as completed
  - Archive tasks
  - Download tasks as a markdown file
  - Store detailed task information in markdown format
    - Includes both edit and preview modes
  - Share a link to a task detail page

- Account and access
  - Multi-tenant accounts with role-based visibility and permissions
  - Invite users to an account via an invite link
  - View account info, logo, and ID
  - Admins can edit account info and manage member roles
  - View user profiles (self and public view)
  - Switch between accounts

## User Roles

- guest
  - A user not signed in
- default
  - Default role for a signed-in user belonging to an account
- manager
  - An account manager with elevated capabilities
- admin
  - A super admin that can manage any account and its users

## Screens

### Landing page
- Route: /
- Seen by roles: all
- Description: A marketing page for Task Bee with a large, eye-catching full-screen hero carousel highlighting the app’s top value propositions.

### Register
- Route: /register
- Seen by roles: all
- Description: Register a new user and create an organizational account. If already signed in, a message indicates the user is already registered.
- Inputs:
  - name
  - email
  - Organization name
  - password

### Sign-in
- Route: /sign-in
- Seen by roles: all
- Description: Sign in as an existing user. If already signed in, a message indicates the user is already signed in.
- Inputs:
  - email
  - password

### Dashboard
- Route: /dashboard
- Seen by roles: all signed-in users
- Description: The central place for managing tasks for the current company/account.
- Capabilities:
  - Add, remove tasks
  - Mark tasks as completed
  - Archive tasks
  - Download tasks as markdown

### Task Detail
- Route: /task/[task-id]
- Seen by roles: all signed-in users
- Description: A dedicated page to manage and view a single task.
- Capabilities:
  - View and edit task details in markdown
    - Toggle between edit and preview modes
  - Mark as completed
  - Archive task
  - Download this task as markdown
  - Share a link to this task

### Account
- Route: /account
- Seen by roles: all signed-in users
- Description: Shows account information and membership.
- Details:
  - Displays:
    - name
    - logo
    - id (muted)
  - Admin-only:
    - Edit account info
    - Invite users via invite link:
      - https://${location.host}/accept-account-invite/${inviteCode}
  - Users section:
    - Grid of user cards (name + profile picture), linking to each user’s public profile
  - Link to create a new account

### Accept Account Invite
- Route: /accept-account-invite/[invite-code]
- Seen by roles: all
- Description: Accept or decline an invite to join an account. If not signed in, users are prompted to sign in first.

### Profile
- Route: /profile
- Seen by roles: all signed-in users
- Description: The private profile page for the current user.
- Capabilities:
  - View personal info
  - View all accounts the user belongs to, with option to switch accounts
  - Edit profile fields, except email address (not editable)

### Public Profile
- Route: /profile/[user-id]
- Seen by roles: all signed-in users
- Description: Public-facing profile page as seen by other users within the account context.
- Admin functionality:
  - Admins can see the user’s role
  - Admins can change the user’s role
  - Admins cannot change their own role

## Task Model and Behaviors

- A task contains:
  - Title and status (active, completed, archived)
  - Detailed description in markdown
  - Metadata related to its account
- Actions:
  - Edit details in markdown with a live preview mode
  - Mark complete for workflow visibility
  - Archive to keep the dashboard focused while retaining historical context
  - Export/download as a markdown file for offline sharing or documentation
  - Share link to the task detail page with teammates

## Styling

- Framework: Tailwind CSS
- Look and feel:
  - Minimalistic
  - Light-hearted
  - Good use of negative space
  - Gradient backgrounds
  - Rounded corners and surfaces
- Custom color palette:
  - CSS variables:
    - --light-blue: #a8d5e2ff
    - --orange-web: #f9a620ff (Brand color)
    - --mustard: #ffd449ff
    - --forest-green: #548c2fff (Secondary)
    - --pakistan-green: #104911ff
- Brand usage rules:
  - Use the brand color (#f9a620ff) sparingly
  - Reserve the brand color primarily for the most important CTAs or as a subtle thin border for highlights when not a main CTA

## Summary

Task Bee streamlines task tracking for companies with a clear, role-aware experience. Users can collaborate on tasks, enrich them with markdown detail, and maintain clean dashboards by completing and archiving items. Admins manage their accounts and memberships, while a thoughtful, minimal visual style ensures focus and clarity.
</app-description>

> appendUser
<all-screens>
[
    {
        "name": "Landing page",
        "route": "index",
        "description": "Marketing home with a full-screen hero carousel highlighting Task Bee’s top value propositions."
    },
    {
        "name": "Register",
        "route": "register",
        "description": "Register a new user and create an organization; shows a notice if already signed in."
    },
    {
        "name": "Sign-in",
        "route": "sign-in",
        "description": "Sign in to an existing account; shows a notice if already signed in."
    },
    {
        "name": "Dashboard",
        "route": "dashboard",
        "description": "Manage company tasks: add, remove, complete, archive, and download as markdown."
    },
    {
        "name": "Task Detail",
        "route": "task/[taskId]",
        "description": "View and edit a single task in markdown, toggle preview, complete, archive, and download."
    },
    {
        "name": "Account",
        "route": "account",
        "description": "View account info (name, logo, id), manage users, admins can edit info and generate invite links."
    },
    {
        "name": "Accept Account Invite",
        "route": "accept-account-invite/[inviteCode]",
        "description": "Accept or decline an account invite; prompts sign-in if the user is not authenticated."
    },
    {
        "name": "Profile",
        "route": "profile",
        "description": "Private user profile: view info, edit (except email), and switch between joined accounts."
    },
    {
        "name": "Public Profile",
        "route": "profile/[userId]",
        "description": "Public-facing profile within the account; admins can view/change the user’s role (not their own)."
    }
]
</all-screens>

> appendUser
<screen-description>
# Screen Description

Name: Task Detail
Route: /task/[taskId]

## Description
A focused workspace for a single task within the current account. Users can read and refine the task title and markdown description, switch between edit and preview modes, and perform key workflow actions. On wide screens, the page supports a side-by-side editor and preview; on smaller screens, users can toggle between Edit and Preview tabs. The page can enter a distraction-free full-screen/no-margins mode to maximize the editor area. Status is clearly shown (active, completed, archived), with lightweight metadata (created/updated, owner) and a subtle share section for copying the task’s permalink. Brand styling is reserved for the most important action (e.g., Mark complete) and thin highlights for share affordances.

## Actions
- Edit the task title
- Edit detailed markdown content
- Toggle between Edit and Preview modes
- Use side-by-side editor/preview layout on large screens
- Enter a distraction-free full-screen editing mode
- Mark the task as completed
- Archive the task
- Download the task as a .md file
- Copy a shareable link to this task
- View basic metadata (status, created/updated info, owner)

## Links
- task/[taskId]: shareable permalink to this task
- profile/[userId]: link to the task creator’s public profile
- profile/[userId]: link to the last editor’s public profile
</screen-description>

> appendUser
Generate a simple set of tests to test all the features of the screens. The tests should be 
    should be a smile bullet list of short sentences describing features to test.

    The test should be able to be completed by a human in 10 minutes or less. Do not include more
    than 25 bullet points.

> nop
//_END_MAKE_TARGET_INPUT_


@time 2025-10-27T06:48:17-04:00
@tokenUsage 2125 / 1131 / $0.004070000000000001
@model gpt-5-2025-08-07
> assistant
- Verify the task title is visible and editable in place.
- Change the title and confirm it saves and persists after a browser refresh.
- Confirm task status badge shows Active by default (or current status).
- Type markdown in the editor (e.g., a header and bold text) and confirm formatting appears correctly in Preview.
- Toggle between Edit and Preview modes and ensure content stays in sync.
- Resize to a wide viewport and confirm side-by-side editor/preview layout appears.
- Resize to a narrow viewport and confirm Edit and Preview tabs appear with correct switching.
- Enter distraction-free full-screen mode and confirm the editor expands and UI chrome is minimized.
- Exit full-screen mode and confirm the normal layout is restored.
- Click Mark complete and confirm status updates to Completed and primary CTA styling is applied sparingly.
- After completion, confirm the complete action is disabled or replaced by a non-actionable Completed state.
- Click Archive and confirm status updates to Archived and archive action is disabled or hidden appropriately.
- Click Download as .md and confirm a .md file is downloaded with the task title in the filename.
- Open the downloaded file and confirm the title and markdown content match the on-screen content.
- Click Copy link and confirm a success toast appears and the permalink is in the clipboard (paste to verify).
- Verify metadata shows created/updated timestamps and owner name.
- Click the owner link to their public profile and confirm navigation to profile/[userId].
- If a last editor is shown, click their link and confirm navigation to their public profile.
- Verify the share section uses subtle highlighting (thin border) and brand color is not overused.
- Confirm all actions are available to a signed-in user and the page blocks or redirects appropriately if signed out.



> user
